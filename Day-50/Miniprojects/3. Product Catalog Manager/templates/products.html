{% with messages = get_flashed_messages(with_categories=true) %}
  {% for category, msg in messages %}
    <div class="alert alert-{{ category }}">{{ msg }}</div>
  {% endfor %}
{% endwith %}

<h2>Product Catalog</h2>
<a href="{{ url_for('add_product') }}">+ Add Product</a>

<table border="1">
  <tr>
    <th>Name</th><th>Price</th><th>In Stock</th><th>Description</th><th>Actions</th>
  </tr>
  {% for p in products %}
    <tr>
      <td>{{ p.name }}</td>
      <td>â‚¹{{ p.price }}</td>
      <td>{{ "Yes" if p.in_stock else "No" }}</td>
      <td>{{ p.description }}</td>
      <td>
        <a href="{{ url_for('edit_product', id=p.id) }}">Edit</a> |
        <a href="{{ url_for('delete_product', id=p.id) }}">Delete</a>
      </td>
    </tr>
  {% endfor %}
</table>