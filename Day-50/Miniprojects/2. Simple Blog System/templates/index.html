{% with messages = get_flashed_messages(with_categories=true) %}
  {% for category, msg in messages %}
    <div class="alert alert-{{ category }}">{{ msg }}</div>
  {% endfor %}
{% endwith %}

<h2>Blog Posts</h2>
<a href="{{ url_for('add_post') }}">+ New Post</a>
<ul>
  {% for post in posts %}
    <li>
      <strong>{{ post.title }}</strong> by {{ post.author }}<br>
      <small>{{ post.created_at }}</small><br>
      <a href="{{ url_for('edit_post', id=post.id) }}">Edit</a> |
      <a href="{{ url_for('delete_post', id=post.id) }}">Delete</a>
    </li>
  {% else %}
    <p>No posts available.</p>
  {% endfor %}
</ul>